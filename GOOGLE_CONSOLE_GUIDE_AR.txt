════════════════════════════════════════════════════════════
📱 دليل إعداد Google Cloud Console - بالتفصيل الممل
════════════════════════════════════════════════════════════

هذا الدليل يشرح كل خطوة بالضبط مع Screenshots instructions

════════════════════════════════════════════════════════════
الجزء الأول: إنشاء المشروع
════════════════════════════════════════════════════════════

1. افتح: https://console.cloud.google.com
2. في الأعلى، لاحظ الـ Project Selector (بجانب شعار Google Cloud)
3. اضغط على اسم المشروع الحالي → سيفتح قائمة
4. في النافذة المنبثقة، اضغط "NEW PROJECT" (زر أزرق في الأعلى)
5. املأ النموذج:
   ┌─────────────────────────────────┐
   │ Project name:                   │
   │ GMB Platform                    │
   │                                 │
   │ Organization: No organization   │
   │ Location: No organization       │
   └─────────────────────────────────┘
6. اضغط "CREATE" (أسفل اليمين)
7. انتظر 10-15 ثانية حتى يتم الإنشاء
8. سيظهر إشعار في الأعلى "Project created"
9. اضغط على الإشعار أو اختر المشروع من الـ Project Selector

════════════════════════════════════════════════════════════
الجزء الثاني: تفعيل APIs
════════════════════════════════════════════════════════════

10. من القائمة الجانبية (☰)، اختر:
    APIs & Services → Library

11. في مربع البحث، اكتب: "Google Business Profile"

12. اضغط على "Google Business Profile API"

13. اضغط زر "ENABLE" (أزرق، في الوسط)

14. كرر الخطوات 11-13 لهذه الـ APIs:
    □ My Business Business Information API
    □ My Business Account Management API
    □ My Business Verifications API

⚠️ إذا ظهرت رسالة "API not available":
   - قدم طلب وصول: https://developers.google.com/my-business/content/prerequisites
   - انتظر 2-3 أيام عمل للموافقة
   - راجع بريدك الإلكتروني

════════════════════════════════════════════════════════════
الجزء الثالث: OAuth Consent Screen
════════════════════════════════════════════════════════════

15. من القائمة الجانبية: APIs & Services → OAuth consent screen

16. اختر User Type:
    ○ Internal (إذا كان Workspace)
    ● External (للمشاريع العادية) ← اختر هذا
    
17. اضغط "CREATE"

────────────────────────────────────────────────────────────
صفحة 1 من 4: OAuth consent screen
────────────────────────────────────────────────────────────

18. App information:
    ┌──────────────────────────────────────┐
    │ App name: *                          │
    │ GMB Platform                         │
    │                                      │
    │ User support email: *                │
    │ your-email@example.com               │
    │                                      │
    │ App logo:                            │
    │ [Upload image] (اختياري)             │
    └──────────────────────────────────────┘

19. App domain (اختياري - اتركه فارغ الآن):
    Application home page:
    Application privacy policy link:
    Application terms of service link:

20. Authorized domains:
    ┌──────────────────────────────────────┐
    │ + ADD DOMAIN                         │
    │ nnh.ae                               │
    └──────────────────────────────────────┘
    
21. Developer contact information:
    ┌──────────────────────────────────────┐
    │ Email addresses: *                   │
    │ your-email@example.com               │
    └──────────────────────────────────────┘

22. اضغط "SAVE AND CONTINUE" (أسفل الصفحة)

────────────────────────────────────────────────────────────
صفحة 2 من 4: Scopes
────────────────────────────────────────────────────────────

23. اضغط "ADD OR REMOVE SCOPES"

24. في النافذة المنبثقة، في مربع "Filter":
    اكتب: business.manage

25. حدد (✓) هذا الـ Scope:
    ┌────────────────────────────────────────────────────┐
    │ ☑ .../auth/business.manage                        │
    │   Manage your Google My Business data             │
    │   Sensitive                                        │
    └────────────────────────────────────────────────────┘

26. في مربع Filter، امسح النص واكتب: userinfo

27. حدد (✓) هذين الـ Scopes:
    ┌────────────────────────────────────────────────────┐
    │ ☑ .../auth/userinfo.email                         │
    │   See your primary Google Account email address   │
    │                                                    │
    │ ☑ .../auth/userinfo.profile                       │
    │   See your personal info                          │
    └────────────────────────────────────────────────────┘

28. اضغط "UPDATE" (أسفل النافذة)

29. تأكد أنك تشوف الـ 3 scopes في الجدول:
    ┌────────────────────────────────────────────────────┐
    │ Scope                            | User-facing... │
    │ .../auth/business.manage         | Manage your... │
    │ .../auth/userinfo.email          | See your pri...│
    │ .../auth/userinfo.profile        | See your per...│
    └────────────────────────────────────────────────────┘

30. اضغط "SAVE AND CONTINUE"

────────────────────────────────────────────────────────────
صفحة 3 من 4: Test users
────────────────────────────────────────────────────────────

31. اضغط "+ ADD USERS"

32. أضف البريد الإلكتروني اللي عندك GMB فيه:
    ┌──────────────────────────────────────┐
    │ your-gmb-email@gmail.com             │
    └──────────────────────────────────────┘

33. اضغط "ADD" (في النافذة المنبثقة)

34. اضغط "SAVE AND CONTINUE"

────────────────────────────────────────────────────────────
صفحة 4 من 4: Summary
────────────────────────────────────────────────────────────

35. راجع الملخص، تأكد كل شي صحيح

36. اضغط "BACK TO DASHBOARD"

════════════════════════════════════════════════════════════
الجزء الرابع: إنشاء OAuth 2.0 Credentials
════════════════════════════════════════════════════════════

37. من القائمة الجانبية: APIs & Services → Credentials

38. اضغط "+ CREATE CREDENTIALS" (أعلى الصفحة)

39. من القائمة المنسدلة، اختر: "OAuth client ID"

40. إذا ظهرت رسالة "Configure consent screen":
    - معناها ما كملت الخطوات السابقة
    - ارجع للجزء الثالث

41. في صفحة "Create OAuth client ID":
    ┌──────────────────────────────────────────────┐
    │ Application type: *                          │
    │ ○ Web application       ← اختر هذا          │
    │ ○ Android                                    │
    │ ○ Chrome extension                           │
    │ ○ iOS                                        │
    │ ○ Desktop app                                │
    └──────────────────────────────────────────────┘

42. Name:
    ┌──────────────────────────────────────────────┐
    │ GMB Platform Web Client                      │
    └──────────────────────────────────────────────┘

────────────────────────────────────────────────────────────
⚠️ الجزء الأهم - Authorized redirect URIs
────────────────────────────────────────────────────────────

43. اسحب لأسفل حتى تشوف:
    "Authorized redirect URIs"

44. اضغط "+ ADD URI"

45. في المربع اللي يظهر، اكتب بالضبط:
    ┌──────────────────────────────────────────────┐
    │ https://nnh.ae/api/gmb/oauth-callback        │
    └──────────────────────────────────────────────┘

    ⚠️ تحقق:
    ✓ https:// (وليس http://)
    ✓ nnh.ae (بدون www)
    ✓ /api/gmb/oauth-callback (كامل)
    ✓ بدون / في النهاية
    ✓ بدون مسافات قبل أو بعد

46. (اختياري للتطوير) اضغط "+ ADD URI" مرة ثانية:
    ┌──────────────────────────────────────────────┐
    │ http://localhost:3000/api/gmb/oauth-callback │
    └──────────────────────────────────────────────┘

47. اضغط "CREATE" (أسفل الصفحة)

════════════════════════════════════════════════════════════
الجزء الخامس: نسخ المفاتيح
════════════════════════════════════════════════════════════

48. سيظهر لك نافذة "OAuth client created"
    
    ┌─────────────────────────────────────────────────┐
    │         OAuth client created                    │
    │                                                 │
    │ Your Client ID                                  │
    │ ┌─────────────────────────────────────────────┐ │
    │ │ 123456789-abc.apps.googleusercontent.com    │ │
    │ └─────────────────────────────────────────────┘ │
    │                                         [Copy]  │
    │                                                 │
    │ Your Client Secret                              │
    │ ┌─────────────────────────────────────────────┐ │
    │ │ GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxx             │ │
    │ └─────────────────────────────────────────────┘ │
    │                                         [Copy]  │
    │                                                 │
    │                           [Download JSON]  [OK] │
    └─────────────────────────────────────────────────┘

49. اضغط [Copy] بجانب "Your Client ID"
    → افتح Notepad والصق المفتاح

50. اضغط [Copy] بجانب "Your Client Secret"
    → الصق في Notepad

51. (اختياري) اضغط "Download JSON" للحفظ

52. اضغط "OK"

════════════════════════════════════════════════════════════
✅ انتهى إعداد Google Console!
════════════════════════════════════════════════════════════

الآن عندك:
✓ Project جاهز
✓ APIs مفعلة
✓ OAuth Consent Screen معدّ
✓ Client ID و Client Secret جاهزين
✓ Redirect URI مضاف: https://nnh.ae/api/gmb/oauth-callback

════════════════════════════════════════════════════════════
الخطوة التالية
════════════════════════════════════════════════════════════

روح لملف SECRETS_CHECKLIST.txt واستخدم المفاتيح اللي نسختها!

════════════════════════════════════════════════════════════
تاريخ الإنشاء: 29 أكتوبر 2025
════════════════════════════════════════════════════════════
