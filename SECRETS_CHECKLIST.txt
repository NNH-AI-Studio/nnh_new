═══════════════════════════════════════════════════════════
📋 SECRETS CHECKLIST - GMB Platform
═══════════════════════════════════════════════════════════

✅ انسخ هذا الملف واستخدمه كدليل لإضافة المفاتيح

═══════════════════════════════════════════════════════════
🔑 المفاتيح المطلوبة في Replit Secrets
═══════════════════════════════════════════════════════════

────────────────────────────────────────────────────────────
1️⃣ مفاتيح Google OAuth (من Google Cloud Console)
────────────────────────────────────────────────────────────

Key: GOOGLE_CLIENT_ID
Value: ______________________________________.apps.googleusercontent.com
Source: Google Cloud Console → APIs & Services → Credentials
        → OAuth 2.0 Client IDs → Web Client
Notes: ينتهي بـ .apps.googleusercontent.com

────────────────────────────────────────────────────────────

Key: GOOGLE_CLIENT_SECRET
Value: GOCSPX-________________________________
Source: Google Cloud Console → APIs & Services → Credentials
        → OAuth 2.0 Client IDs → Web Client
Notes: يبدأ عادة بـ GOCSPX-

────────────────────────────────────────────────────────────

Key: GOOGLE_REDIRECT_URI
Value: https://nnh.ae/api/gmb/oauth-callback
Source: ثابت - استخدم هذا بالضبط
Notes: ⚠️ يجب أن يكون مطابق للـ URI في Google Console

────────────────────────────────────────────────────────────
2️⃣ مفاتيح Supabase (من Supabase Dashboard)
────────────────────────────────────────────────────────────

Key: NEXT_PUBLIC_SUPABASE_URL
Value: https://________________________.supabase.co
Source: Supabase Dashboard → Settings → API → Project URL
Notes: يبدأ بـ https:// وينتهي بـ .supabase.co

────────────────────────────────────────────────────────────

Key: NEXT_PUBLIC_SUPABASE_ANON_KEY
Value: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.________________________
Source: Supabase Dashboard → Settings → API → anon / public
Notes: JWT token طويل (300+ حرف)
       آمن للاستخدام في Frontend

────────────────────────────────────────────────────────────

Key: SUPABASE_SERVICE_ROLE_KEY
Value: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.________________________
Source: Supabase Dashboard → Settings → API → service_role
Notes: ⚠️ سري جداً! لا تشاركه أبداً!
       ⚠️ له صلاحيات كاملة على Database
       يستخدم فقط في Server-side code

────────────────────────────────────────────────────────────
3️⃣ مفاتيح الدومين (Domain Configuration)
────────────────────────────────────────────────────────────

Key: NEXT_PUBLIC_BASE_URL
Value: https://nnh.ae
Source: ثابت - دومينك الرئيسي
Notes: بدون / في النهاية

────────────────────────────────────────────────────────────

Key: NEXT_PUBLIC_SITE_URL
Value: https://nnh.ae
Source: ثابت - نفس الدومين الرئيسي
Notes: بدون / في النهاية

════════════════════════════════════════════════════════════
📊 ملخص سريع
════════════════════════════════════════════════════════════

إجمالي المفاتيح المطلوبة: 7

✓ Google OAuth: 3 مفاتيح
  - GOOGLE_CLIENT_ID
  - GOOGLE_CLIENT_SECRET
  - GOOGLE_REDIRECT_URI

✓ Supabase: 3 مفاتيح
  - NEXT_PUBLIC_SUPABASE_URL
  - NEXT_PUBLIC_SUPABASE_ANON_KEY
  - SUPABASE_SERVICE_ROLE_KEY

✓ Domain: 2 مفاتيح
  - NEXT_PUBLIC_BASE_URL
  - NEXT_PUBLIC_SITE_URL

════════════════════════════════════════════════════════════
⚠️ تحذيرات أمنية مهمة
════════════════════════════════════════════════════════════

🔴 لا تشارك أبداً:
   - GOOGLE_CLIENT_SECRET
   - SUPABASE_SERVICE_ROLE_KEY

🟡 آمن للمشاركة (يستخدم في Frontend):
   - NEXT_PUBLIC_SUPABASE_URL
   - NEXT_PUBLIC_SUPABASE_ANON_KEY
   - NEXT_PUBLIC_BASE_URL
   - NEXT_PUBLIC_SITE_URL

🟢 متوسط السرية:
   - GOOGLE_CLIENT_ID (عام نسبياً)
   - GOOGLE_REDIRECT_URI (ثابت)

════════════════════════════════════════════════════════════
✅ Checklist للتأكد من التكوين
════════════════════════════════════════════════════════════

قبل النشر، تأكد من:

□ تم إضافة جميع المفاتيح السبعة في Replit Secrets
□ تم التأكد من عدم وجود مسافات زائدة في القيم
□ GOOGLE_REDIRECT_URI = https://nnh.ae/api/gmb/oauth-callback
□ تم إضافة نفس URI في Google Console تحت Authorized redirect URIs
□ تم تفعيل Google Business Profile API في Google Console
□ تم إعداد OAuth Consent Screen في Google Console
□ تم إعداد Site URL في Supabase = https://nnh.ae
□ تم تفعيل Google Provider في Supabase Auth
□ تم تطبيق Database Migrations (npm run db:push)

════════════════════════════════════════════════════════════
📝 ملاحظات إضافية
════════════════════════════════════════════════════════════

1. المفاتيح التي تبدأ بـ NEXT_PUBLIC_ تكون متاحة للمتصفح
2. باقي المفاتيح تكون سرية ومتاحة فقط للـ Server
3. إذا غيرت أي مفتاح، أعد تشغيل Server (Restart Workflow)
4. بعض المفاتيح موجودة بالفعل في Secrets - راجعها فقط

════════════════════════════════════════════════════════════
تاريخ الإنشاء: 29 أكتوبر 2025
النسخة: 1.0
════════════════════════════════════════════════════════════
